🏡 스마트 부동산 실거래가 조회 서비스 기술 명세서

1. 개요
1.1. 문서 목적
본 문서는 '스마트 부동산 실거래가 조회' 서비스 개발을 위한 기술적 요구사항과 기능 명세를 정의합니다. 개발팀은 본 문서를 기반으로 실제 개발 업무를 수행합니다.

1.2. 서비스 목표
사용자 목표: 로그인 없이, 쉽고 빠르게 아파트 실거래 정보를 검색하고 시세 추이를 파악한다.

비즈니스 목표: Next.js 기반의 빠른 검색 속도와 SEO를 통해 안정적인 부동산 정보 조회 서비스를 제공한다.

2. 사용자 스토리 (User Stories)
As a user, I want to 지역(시/도, 시/군/구)을 선택하여 아파트 목록을 조회할 수 있다.

As a user, I want to 아파트 단지명으로 직접 검색하여 원하는 단지를 빠르게 찾을 수 있다.

As a user, I want to 가격, 면적, 준공년도 필터를 적용하여 검색 결과를 내 조건에 맞게 좁힐 수 있다.

As a user, I want to 검색 결과 목록에서 특정 아파트를 클릭하여 상세 정보를 확인할 수 있다.

As a user, I want to 단지 상세 정보에서 면적별 최신 실거래가를 한눈에 비교할 수 있다.

As a user, I want to 특정 면적의 과거 실거래가 추이를 그래프로 확인하여 시세 변동을 직관적으로 이해할 수 있다.

As a user, I want to 모든 과거 거래 내역을 표로 확인하여 상세 데이터를 분석할 수 있다.

3. 페이지별 기능 명세
3.1. 메인 검색 페이지 (/)
역할: 서비스의 진입점으로, 아파트 검색 기능과 결과 목록을 제공합니다.

URL 구조: /

컴포넌트 명세:

RegionSelector:

'광역시/도'와 '시/군/구' Dropdown 2개로 구성.

'광역시/도' 선택 시, 해당 지역의 '시/군/구' 목록을 API로 호출하여 동적으로 렌더링.

SearchInput:

단지명을 입력받는 Input 필드.

[필수] 입력 시, debounce (300ms) 적용 후 자동 완성 목록을 API로 요청하여 표시.

[선택] 최근 검색 기록(지역/단지)을 LocalStorage에 저장하고, 입력창 포커스 시 목록 표시.

FilterControls:

가격, 면적(전용), 준공년도 범위를 Slider 또는 Input Range로 제어.

ResultsTable:

컬럼: 단지명, 주소, 대표 면적(㎡), 최근 거래가(만원), 준공년도.

동작:

각 행(Row) 클릭 시 Next/Link를 통해 /complex/[aptSeq]로 이동.

'대표 면적' 컬럼 값에 마우스 오버 시 Tooltip으로 "최근 1년간 가장 많이 거래된 면적" 텍스트 표시.

데이터 흐름:

사용자가 지역을 선택하거나 검색어를 입력하면, 필터 값과 함께 /api/search로 GET 요청.

요청 중에는 ResultsTable 영역에 스켈레톤 UI를 표시.

API 응답 성공 시, 결과 데이터를 테이블에 렌더링.

결과가 없으면 "검색 결과가 없습니다." 메시지 표시.

API 응답 실패 시, "데이터 조회에 실패했습니다." 메시지 표시.

3.2. 단지 상세 페이지 (/complex/[aptSeq])
역할: 특정 단지의 기본 정보와 면적별 실거래가 정보를 제공합니다.

URL 구조: /complex/[aptSeq] (예: /complex/11110-2339)

컴포넌트 명세:

ComplexInfo:

단지명, 주소, 총 세대수, 준공년도 등 기본 정보를 표시.

AreaTable:

컬럼: 전용 면적(㎡), 공급 면적(㎡), 최신 실거래가(만원), 최신 거래일.

동작: 각 행(Row) 클릭 시 Next/Link를 통해 /complex/[aptSeq]/area/[areaId]로 이동.

데이터 흐름:

페이지 진입 시, aptSeq 파라미터를 사용하여 /api/complex/[aptSeq]로 GET 요청.

요청 중에는 페이지 전체에 스켈레톤 UI 표시.

API 응답 데이터를 각 컴포넌트에 전달하여 렌더링.

3.3. 실거래가 상세 분석 페이지 (/complex/[aptSeq]/area/[areaId])
역할: 특정 단지, 특정 면적의 상세 실거래 이력과 시세 추이를 시각적으로 제공합니다.

URL 구조: /complex/[aptSeq]/area/[areaId] (예: /complex/11110-2339/area/84.99)

컴포넌트 명세:

PriceTrendChart:

Recharts 또는 Chart.js 기반의 꺾은선 그래프.

X축: 시간(월/분기), Y축: 평균 거래가(만원).

데이터 포인트에 마우스 오버 시, 해당 시점의 평균가와 거래 건수를 Tooltip으로 표시.

VolumeChart:

막대그래프.

X축: 시간(월/분기), Y축: 거래 건수.

TransactionHistoryTable:

컬럼: 계약일, 거래 가격(만원), 층수.

정렬: 계약일 기준 최신순 (내림차순)으로 기본 정렬.

데이터 흐름:

페이지 진입 시, aptSeq와 areaId 파라미터를 사용하여 /api/transactions로 GET 요청.

API 응답 데이터를 가공하여 각 차트와 테이블 컴포넌트에 전달.

4. API 연동 명세
4.1. 국토교통부 API 프록시 (Proxy)
목적: 클라이언트 측에 API 서비스 키 노출을 방지하고, 외부 API 응답(XML)을 서비스에 필요한 JSON 형태로 가공하기 위해 Next.js API Route를 활용합니다.

엔드포인트:

/api/search: 단지 목록 검색

/api/complex/[aptSeq]: 단지 상세 정보 조회

/api/transactions: 특정 면적 거래 내역 조회

동작:

클라이언트로부터 요청 파라미터를 수신.

process.env.API_KEY 환경 변수에서 서비스 키를 가져와 국토부 API 요청 URL을 생성.

fetch를 통해 국토부 API 호출.

수신한 XML 데이터를 JSON으로 변환하고, 서비스 UI에 맞게 데이터를 정제/가공.

가공된 JSON 데이터를 클라이언트에 응답.

국토부 API 오류 발생 시, 500 상태 코드와 에러 메시지를 포함하여 응답.

5. 비기능 요구사항
5.1. 사용자 경험 (UX)
상태 표시:

로딩: API 호출 시, 스켈레톤 UI 또는 스피너를 표시하여 사용자에게 대기 상태임을 명확히 알려야 함.

오류/데이터 없음: API 오류 또는 빈 검색 결과에 대해 명확하고 친절한 안내 문구를 제공해야 함.

반응형 웹:

모든 페이지는 PC, 태블릿, 모바일 해상도에 최적화된 레이아웃을 제공해야 함.

[필수] 모바일에서 테이블 조회 시, 좌우 스크롤이 발생하더라도 단지명, 가격 등 핵심 컬럼은 화면에 고정(Sticky Column)되어야 함.

5.2. 데이터 및 서비스 정책
정보 출처 명시:

모든 페이지의 Footer 영역에 "데이터 출처: 국토교통부 실거래가 공개시스템" 문구를 필수로 포함.

데이터 기준 시점(예: "YYYY-MM-DD 기준")을 명확히 표기.

외부 API 오류 대응:

국토부 API 서버 오류 시, 사용자에게 "현재 외부 데이터 시스템 점검으로 서비스 이용이 원활하지 않을 수 있습니다."와 같은 안내 페이지를 표시해야 함.